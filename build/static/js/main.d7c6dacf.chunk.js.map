{"version":3,"sources":["images/basket.svg","data/initialData.js","constants/constants.js","reducers/reducers.js","components/Nav.js","services/services.js","helpers/auth-header.js","actions/actions.js","components/LoginPage.js","components/ProductItem.js","components/CartProductItem.js","components/Cart.js","components/ProductsPage.js","components/CheckoutPage.js","components/NotFoundPage.js","components/ConfirmationPage.js","components/ManageProductsPage.js","components/ManageUsersPage.js","routers/AppRouter.js","serviceWorker.js","index.js","helpers/fake-backend.js"],"names":["module","exports","__webpack_require__","p","initialCartState","cart","products","id","name","price","cartTotal","alertConstants","userConstants","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT","GETALL_REQUEST","GETALL_SUCCESS","GETALL_FAILURE","user","JSON","parse","localStorage","getItem","initialState","loggedIn","Nav","authentication","this","props","isLoggedIn","hasOwnProperty","isAdmin","username","react_default","a","createElement","className","NavLink","to","src","basket","alt","width","height","activeClassName","Fragment","href","Component","withRouter","connect","state","logout","removeItem","handleResponse","response","text","then","data","ok","status","window","location","reload","error","message","statusText","Promise","reject","userService","password","requestOptions","method","headers","Content-Type","body","stringify","fetch","token","setItem","Authorization","authHeader","history","createBrowserHistory","alertActions","type","userActions","login","dispatch","success","push","failure","getAll","users","LoginPage","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleChange","e","_e$target","target","value","setState","defineProperty","handleSubmit","preventDefault","submitted","_this$state","_this$props","loggingIn","alert","_this$state2","onSubmit","htmlFor","onChange","style","marginRight","Redirect","ProductItem","onClick","CartProductItem","count","Cart","handleRemove","onRemove","calcTotal","_this2","map","product","reduce","b","components_CartProductItem","assign","key","arguments","length","undefined","removeFromCart","ProductsPage","handleAdd","values","onAdd","components_ProductItem","components_Cart","_ref","_ref$count","addToCart","CheckoutPage","cardIsEmpty","handleKeyUp","classList","remove","add","defaultValue","firstName","required","onKeyUp","lastName","placeholder","phone","address","defaultChecked","NotFoundPage","ConfirmationPage","date","Date","receiveDate","setDate","getDate","dd","mm","getMonth","yyyy","getFullYear","role","ManageProductsPage","ManageUsersPage","createHistory","AppRouter","Router","components_Nav","Switch","Route","path","component","exact","Boolean","hostname","match","loggerMiddleware","createLogger","store","createStore","action","productsReducer","find","objectSpread","toConsumableArray","concat","filter","_ref2","cartReducer","cartTotalReducer","loading","items","applyMiddleware","thunkMiddleware","realFetch","url","opts","resolve","setTimeout","endsWith","params","filteredUsers","responseJson","configureFakeBackend","ReactDOM","render","react_redux_es","routers_AppRouter","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.d7c6dacf.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/basket.4a91dad9.svg\";","// INITIAL STATE\r\nexport const initialCartState = {\r\n  cart: [],\r\n  products: [\r\n    {\r\n      id: 1,\r\n      name: 'Apple',\r\n      price: 6\r\n    },\r\n    {\r\n      id: 2,\r\n      name: 'Orange',\r\n      price: 7\r\n    },\r\n    {\r\n      id: 3,\r\n      name: 'Kiwifruit',\r\n      price: 10\r\n    },\r\n    {\r\n      id: 4,\r\n      name: 'Grenade',\r\n      price: 15\r\n    },\r\n    {\r\n      id: 5,\r\n      name: 'Banana',\r\n      price: 4\r\n    },\r\n    {\r\n      id: 6,\r\n      name: 'Tomato',\r\n      price: 2\r\n    },\r\n    {\r\n      id: 7,\r\n      name: 'Cucumber',\r\n      price: 3\r\n    },\r\n    {\r\n      id: 8,\r\n      name: 'Salad',\r\n      price: 12\r\n    },\r\n  ],\r\n  cartTotal: 0\r\n};","export const alertConstants = {\r\n  SUCCESS: 'ALERT_SUCCESS',\r\n  ERROR: 'ALERT_ERROR',\r\n  CLEAR: 'ALERT_CLEAR'\r\n};\r\n\r\nexport const userConstants = {\r\n  LOGIN_REQUEST: 'USERS_LOGIN_REQUEST',\r\n  LOGIN_SUCCESS: 'USERS_LOGIN_SUCCESS',\r\n  LOGIN_FAILURE: 'USERS_LOGIN_FAILURE',\r\n  \r\n  LOGOUT: 'USERS_LOGOUT',\r\n\r\n  GETALL_REQUEST: 'USERS_GETALL_REQUEST',\r\n  GETALL_SUCCESS: 'USERS_GETALL_SUCCESS',\r\n  GETALL_FAILURE: 'USERS_GETALL_FAILURE',\r\n};","import { initialCartState } from '../data/initialData';\r\nimport { alertConstants, userConstants } from '../constants/constants';\r\n\r\nconst productsReducer = (state, action) => {\r\n  switch(action.type) {\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst cartReducer = (state, action) => {\r\n  switch(action.type) {\r\n    case 'ADD_TO_CART':\r\n      const isInCart = state.find(({ id }) => id === action.product.id);\r\n      if (isInCart) {\r\n        return state.map(product => {\r\n            if (product.id === action.product.id) {\r\n              product = { ...product, count: product.count + 1 };\r\n            }\r\n            return product;\r\n          })\r\n      } else {\r\n        return [\r\n          ...state,\r\n          action.product\r\n        ]\r\n      }\r\n    case 'REMOVE_FROM_CART':\r\n      return state.filter(({ id }) => id !== action.id);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst cartTotalReducer = (state, action) => {\r\n  const cart = action.cart; // access to Cart\r\n  switch(action.type) {\r\n    case 'CALC_TOTAL':\r\n      return Object.values(cart.map(product => product.price * product.count)).reduce((a, b) => { return a + b; }, 0);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n/*\r\nexport const mainReducer = combineReducers({\r\n  products: productsReducer,\r\n  cart: cartReducer,\r\n  cartTotal: cartTotalReducer\r\n});\r\n*/\r\n\r\n// ----------------------------------------- AUTH ----------------------------------------------------------------------//\r\n\r\nexport const alert = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case alertConstants.SUCCESS:\r\n      return {\r\n        type: 'alert-success',\r\n        message: action.message\r\n      };\r\n    case alertConstants.ERROR:\r\n      return {\r\n        type: 'alert-danger',\r\n        message: action.message\r\n      };\r\n    case alertConstants.CLEAR:\r\n      return {};\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nlet user = JSON.parse(localStorage.getItem('user'));\r\nconst initialState = user ? { loggedIn: true, user } : {};\r\n\r\nexport const authentication = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case userConstants.LOGIN_REQUEST:\r\n      return {\r\n        loggingIn: true,\r\n        user: action.user\r\n      };\r\n    case userConstants.LOGIN_SUCCESS:\r\n      return {\r\n        loggedIn: true,\r\n        user: action.user\r\n      };\r\n    case userConstants.LOGIN_FAILURE:\r\n      return {};\r\n    case userConstants.LOGOUT:\r\n      return {};\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const users = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case userConstants.GETALL_REQUEST:\r\n      return {\r\n        loading: true\r\n      };\r\n    case userConstants.GETALL_SUCCESS:\r\n      return {\r\n        items: action.users\r\n      };\r\n    case userConstants.GETALL_FAILURE:\r\n      return { \r\n        error: action.error\r\n      };\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const rootReducer = (state = { products: initialCartState.products, cart: initialCartState.cart, cartTotal: 0, authentication: {}, users: {}, alert: {} }, action) => {\r\n  const cart = state.cart; // for cartTotalReducer access\r\n  return {\r\n    products: productsReducer(state.products, action),\r\n    cart: cartReducer(state.cart, action),\r\n    cartTotal: cartTotalReducer(state.cartTotal, {...action, cart}),\r\n    authentication: authentication(state.authentication, action),\r\n    users: users(state.users, action),\r\n    alert: alert(state.alert, action)\r\n  };\r\n};","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { NavLink, withRouter } from 'react-router-dom';\r\nimport basket from '../images/basket.svg';\r\n\r\nclass Nav extends Component {\r\n  render() {\r\n    const { authentication } = this.props;\r\n    let isLoggedIn = authentication.hasOwnProperty('loggedIn') ? authentication.loggedIn : false;\r\n    let isAdmin = authentication.hasOwnProperty('user') ? authentication.user.username === 'admin' : false;\r\n\r\n    return (\r\n      <header>\r\n        <nav className=\"App-nav text-center\">\r\n          <ul className=\"nav justify-content-center\">\r\n            <li className=\"nav-item nav-item--logo\"><NavLink className=\"nav-link\" to=\"/products\"><img src={basket} alt=\"\" width=\"40\" height=\"40\" /></NavLink></li>\r\n            {\r\n              !isLoggedIn &&\r\n              <li className=\"nav-item\"><NavLink className=\"nav-link\" activeClassName=\"active\" to=\"/login\">Login</NavLink></li>\r\n            }\r\n            <li className=\"nav-item\"><NavLink className=\"nav-link\" activeClassName=\"active\" to=\"/products\">Products</NavLink></li>\r\n            {\r\n              isLoggedIn && isAdmin && \r\n              <React.Fragment>\r\n                <li className=\"nav-item\"><NavLink className=\"nav-link\" activeClassName=\"active\" to=\"/manage-products\">Manage products</NavLink></li>\r\n                <li className=\"nav-item\"><NavLink className=\"nav-link\" activeClassName=\"active\" to=\"/manage-users\">Manage users</NavLink></li>\r\n              </React.Fragment>\r\n            }\r\n            {\r\n              isLoggedIn &&\r\n              <React.Fragment>\r\n                <li className=\"nav-item\"><div className=\"navbar-text\">Logged in as <strong>{authentication.user.username}</strong></div></li>\r\n                <li className=\"nav-item\"><a className=\"nav-link\" href=\"/\">Logout</a></li>\r\n              </React.Fragment>\r\n            }\r\n          </ul>\r\n        </nav>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { authentication } = state;\r\n  return ({\r\n    authentication\r\n  });\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(Nav));","import { authHeader } from '../helpers/auth-header';\r\n\r\nconst login = (username, password) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ username, password })\r\n  };\r\n\r\n  return fetch(`/login`, requestOptions)\r\n    .then(handleResponse)\r\n    .then(user => {\r\n      // login successful if there's a jwt token in the response\r\n      if (user.token) {\r\n        // store user details and jwt token in local storage to keep user logged in between page refreshes\r\n        localStorage.setItem('user', JSON.stringify(user));\r\n      }\r\n\r\n      return user;\r\n    });\r\n}\r\n\r\nconst logout = () => {\r\n  // remove user from local storage to log user out\r\n  localStorage.removeItem('user');\r\n}\r\n\r\nconst getAll = () => {\r\n  const requestOptions = {\r\n    method: 'GET',\r\n    headers: authHeader()\r\n  };\r\n\r\n  return fetch(`/login`, requestOptions).then(handleResponse);\r\n}\r\n\r\nconst handleResponse = (response) => {\r\n  return response.text().then(text => {\r\n    const data = text && JSON.parse(text);\r\n    if (!response.ok) {\r\n      if (response.status === 401) {\r\n        // auto logout if 401 response returned from api\r\n        logout();\r\n        window.location.reload(true);\r\n      }\r\n\r\n      const error = (data && data.message) || response.statusText;\r\n      return Promise.reject(error);\r\n    }\r\n\r\n    return data;\r\n  });\r\n}\r\n\r\nexport const userService = {\r\n  login,\r\n  logout,\r\n  getAll\r\n};","export function authHeader() {\r\n  // return authorization header with jwt token\r\n  let user = JSON.parse(localStorage.getItem('user'));\r\n\r\n  if (user && user.token) {\r\n      return { 'Authorization': 'Bearer ' + user.token };\r\n  } else {\r\n      return {};\r\n  }\r\n}","import { alertConstants, userConstants } from '../constants/constants';\r\nimport { userService } from '../services/services';\r\nimport { createBrowserHistory } from 'history';\r\n\r\nconst history = createBrowserHistory();\r\n\r\n// CART ACTIONS\r\n// addToCart\r\nexport const addToCart = (\r\n  {\r\n    id,\r\n    name,\r\n    price,\r\n    count = 1\r\n  } = {}\r\n) => (\r\n  {\r\n    type: 'ADD_TO_CART',\r\n    product: {\r\n      id,\r\n      name,\r\n      price,\r\n      count\r\n    }\r\n  }\r\n);\r\n\r\n// removeFromCart\r\nexport const removeFromCart = ( { id } = {} ) => ({\r\n  type: 'REMOVE_FROM_CART',\r\n  id,\r\n});\r\n\r\n// ALERT ACTIONS\r\nconst success = message => ({ type: alertConstants.SUCCESS, message });\r\nconst error = message => ({ type: alertConstants.ERROR, message });\r\nconst clear = () => ({ type: alertConstants.CLEAR });\r\n\r\nconst alertActions = {\r\n  success,\r\n  error,\r\n  clear\r\n};\r\n\r\n// AUTHENTICATION ACTIONS\r\n// login\r\nconst login = (username, password) => {\r\n  return dispatch => {\r\n    dispatch(request({ username }));\r\n\r\n    userService.login(username, password)\r\n      .then(\r\n        user => { \r\n          dispatch(success(user));\r\n          history.push('/');\r\n        },\r\n        error => {\r\n          dispatch(failure(error));\r\n          dispatch(alertActions.error(error));\r\n        }\r\n      );\r\n  };\r\n\r\n  function request(user) { return { type: userConstants.LOGIN_REQUEST, user } }\r\n  function success(user) { return { type: userConstants.LOGIN_SUCCESS, user } }\r\n  function failure(error) { return { type: userConstants.LOGIN_FAILURE, error } }\r\n}\r\n\r\n// logout\r\nconst logout = () => {\r\n  userService.logout();\r\n  return { type: userConstants.LOGOUT };\r\n}\r\n\r\n// getAll\r\nconst getAll = () => {\r\n  return dispatch => {\r\n      dispatch(request());\r\n\r\n      userService.getAll()\r\n          .then(\r\n              users => dispatch(success(users)),\r\n              error => dispatch(failure(error))\r\n          );\r\n  };\r\n\r\n  function request() { return { type: userConstants.GETALL_REQUEST } }\r\n  function success(users) { return { type: userConstants.GETALL_SUCCESS, users } }\r\n  function failure(error) { return { type: userConstants.GETALL_FAILURE, error } }\r\n}\r\n\r\nexport const userActions = {\r\n  login,\r\n  logout,\r\n  getAll\r\n};","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { userActions } from '../actions/actions';\r\n\r\nclass LoginPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // reset login status\r\n    // this.props.dispatch(userActions.logout());\r\n\r\n    this.state = {\r\n        username: '',\r\n        password: '',\r\n        submitted: false\r\n    };\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    this.setState({ [name]: value });\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    this.setState({ submitted: true });\r\n    const { username, password } = this.state;\r\n    const { dispatch } = this.props;\r\n    if (username && password) {\r\n      dispatch(userActions.login(username, password));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { loggingIn, alert, authentication } = this.props;\r\n    const { username, password, submitted } = this.state;\r\n\r\n    return (\r\n      <form name=\"form\" onSubmit={this.handleSubmit}>\r\n        <h1 className=\"h3 mb-3 font-weight-normal\">Please sign in</h1>\r\n        <div className={'form-group' + (submitted && !username ? ' has-error' : '')}>\r\n            <label htmlFor=\"username\">Username</label>\r\n            <input type=\"text\" className={'form-control' + (submitted && !username ? ' is-invalid' : '')} name=\"username\" value={username} onChange={this.handleChange} />\r\n            {submitted && !username &&\r\n                <div className=\"invalid-feedback\">Username is required</div>\r\n            }\r\n        </div>\r\n        <div className={'form-group' + (submitted && !password ? ' has-error' : '')}>\r\n            <label htmlFor=\"password\">Password</label>\r\n            <input type=\"password\" className={'form-control' + (submitted && !password ? ' is-invalid' : '')} name=\"password\" value={password} onChange={this.handleChange} />\r\n            {submitted && !password &&\r\n                <div className=\"invalid-feedback\">Password is required</div>\r\n            }\r\n        </div>\r\n        <div className=\"form-group\">\r\n            <button className=\"btn btn-primary\" style={{marginRight: 10}}>Login</button>\r\n            {loggingIn &&\r\n              <img alt=\"\" src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\r\n            }\r\n        </div>\r\n        {alert.message && !authentication.loggedIn &&\r\n          <div className=\"alert alert-danger\">{alert.message}</div>\r\n        }\r\n        {/*authentication.loggedIn &&\r\n          <div className=\"alert alert-success\" role=\"alert\">\r\n            <h4 className=\"alert-heading mt-3\">Well done!</h4>\r\n            <p>Logged in as: <strong>{authentication.user.username}</strong></p>\r\n          </div>\r\n        */}\r\n        {authentication.loggedIn && <Redirect push to=\"/products\" />}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { loggingIn } = state.authentication;\r\n  const { alert } = state;\r\n  const { authentication } = state;\r\n  return ({\r\n    loggingIn,\r\n    alert,\r\n    authentication\r\n  });\r\n}\r\n\r\nexport default connect(mapStateToProps)(LoginPage);","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass ProductItem extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"col-md-4 product-item\">\r\n        <div className=\"product-grid4\">\r\n          <div className=\"product-content\">\r\n            <h3 className=\"title\">{this.props.name}</h3>\r\n            <div className=\"price\">\r\n              ${this.props.price}\r\n            </div>\r\n            <button className=\"add-to-cart\" onClick={() => { this.props.onClick(this.props.id, this.props.name, this.props.price) }}>ADD TO CART</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nProductItem.propTypes = {\r\n  name: PropTypes.string,\r\n  price: PropTypes.number\r\n}\r\n\r\nexport default ProductItem;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass CartProductItem extends Component {\r\n  render() {\r\n    return (\r\n      <li className=\"list-group-item d-flex justify-content-between lh-condensed\">\r\n        <div>\r\n          <h6 className=\"cart-item--title my-0\">{this.props.name}</h6>\r\n          <small>x {this.props.count}</small>\r\n          <button className=\"remove-item\" onClick={() => this.props.onClick(this.props.id)}>X</button>\r\n        </div>\r\n        <span className=\"text-muted\">${this.props.price * this.props.count}</span>\r\n      </li>\r\n    )\r\n  }\r\n}\r\n\r\nCartProductItem.propTypes = {\r\n  name: PropTypes.string,\r\n  price: PropTypes.number,\r\n  count: PropTypes.number\r\n}\r\n\r\nexport default CartProductItem;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport CartProductItem from './CartProductItem';\r\nimport { removeFromCart } from '../actions/actions';\r\n\r\nclass Cart extends Component {\r\n\r\n  handleRemove = id => {\r\n    this.props.onRemove(id);\r\n    this.props.calcTotal();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App-cart\">\r\n        <h4 className=\"d-flex justify-content-between align-items-center mb-3\">\r\n          <span className=\"text-muted\">Your cart</span>\r\n          <span className=\"badge badge-secondary badge-pill\">\r\n          {\r\n            this.props.cart.map(product => product.count).reduce((a, b) => a + b, 0)\r\n          }\r\n          </span>\r\n        </h4>\r\n        <ul className=\"list-group mb-3\">\r\n          {\r\n            this.props.cart.map((product) => {\r\n              return <CartProductItem key={product.id} id={product.id} {...product} onClick={this.handleRemove} />;\r\n            })\r\n          }\r\n          <li className=\"list-group-item d-flex justify-content-between\">\r\n            <span>Total (USD)</span>\r\n            <strong>${this.props.cartTotal}</strong>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nCart.propTypes = {\r\n  cartTotal: PropTypes.number\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    products: state.products,\r\n    cart: state.cart,\r\n    cartTotal: state.cartTotal\r\n  }\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onRemove: id => dispatch(removeFromCart({ id: id })),\r\n    calcTotal: () => dispatch({ type: 'CALC_TOTAL' })\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);","import React, { Component } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { addToCart } from '../actions/actions';\r\nimport ProductItem from './ProductItem';\r\nimport Cart from './Cart';\r\n\r\nclass ProductsPage extends Component {\r\n\r\n  handleAdd = (id, name, price) => {\r\n    if (Object.values(this.props.cart.map(product => product.count)).reduce((a, b) => { return a + b; }, 0) < 3) {\r\n      this.props.onAdd(id, name, price);\r\n      this.props.calcTotal();\r\n    } else {\r\n      alert('You can only add 3 or less items to cart!')\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col\">\r\n            <h3 className=\"products-page-title\">Store</h3>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col-md-8\">\r\n            <div className=\"row products-container\">\r\n              {\r\n                this.props.products.map((product) => {\r\n                  return <ProductItem key={product.id} id={product.id} {...product} onClick={this.handleAdd} />;\r\n                })\r\n              }\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-4 mb-4\">\r\n            <Cart />\r\n            <NavLink className=\"btn btn-primary\" to=\"/checkout\">Proceed to checkout</NavLink>\r\n          </div>\r\n\r\n        </div>\r\n    </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    products: state.products,\r\n    cart: state.cart,\r\n    cartTotal: state.cartTotal\r\n  }\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onAdd: (id, name, price) => dispatch(addToCart({ id: id, name: name, price: price })),\r\n    calcTotal: () => dispatch({ type: 'CALC_TOTAL' })\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductsPage);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Cart from './Cart';\r\n\r\nclass CheckoutPage extends Component {\r\n  state = {\r\n    cardIsEmpty: true\r\n  }\r\n\r\n  handleKeyUp = (e) => {\r\n    e.target.value ? e.target.classList.remove('is-invalid') : e.target.classList.add('is-invalid');\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { cart } = this.props;\r\n    cart.length === 0 ? alert('Your cart is empty! Please add some products.') : this.props.history.push('/confirmation');\r\n  }\r\n\r\n  render() {\r\n    const { authentication } = this.props;\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-4 order-md-2 mb-4\">\r\n            <Cart />\r\n          </div>\r\n\r\n          <div className=\"col-md-8 order-md-1\">\r\n            <h4 className=\"mb-3\">Billing address</h4>\r\n            <form className=\"needs-validation\" onSubmit={this.handleSubmit}>\r\n              <div className=\"row\">\r\n                <div className=\"col-md-6 mb-3\">\r\n                  <label htmlFor=\"firstName\">First name</label>\r\n                  <input type=\"text\" className=\"form-control\" id=\"firstName\" defaultValue={authentication.loggedIn ? authentication.user.firstName : ''} required onKeyUp={this.handleKeyUp} />\r\n                  <div className=\"invalid-feedback\">\r\n                    Valid first name is required.\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-6 mb-3\">\r\n                  <label htmlFor=\"lastName\">Last name</label>\r\n                  <input type=\"text\" className=\"form-control\" id=\"lastName\" defaultValue={authentication.loggedIn ? authentication.user.lastName : ''} required onKeyUp={this.handleKeyUp} />\r\n                  <div className=\"invalid-feedback\">\r\n                    Valid last name is required.\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"address\">Phone number</label>\r\n                <input type=\"text\" className=\"form-control\" id=\"phone\" placeholder=\"XXXXXXXXX\" defaultValue={authentication.loggedIn ? authentication.user.phone : ''} required onKeyUp={this.handleKeyUp} />\r\n                <div className=\"invalid-feedback\">\r\n                  Please enter your phone number.\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"address\">Address</label>\r\n                <input type=\"text\" className=\"form-control\" id=\"address\" placeholder=\"ul. Winogrady 3/5\" defaultValue={authentication.loggedIn ? authentication.user.address : ''} required onKeyUp={this.handleKeyUp} />\r\n                <div className=\"invalid-feedback\">\r\n                  Please enter your shipping address.\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <div className=\"col-md-5 mb-3\">\r\n                  <label htmlFor=\"country\">Country</label>\r\n                  <select className=\"custom-select d-block w-100\" id=\"country\" required>\r\n                    <option value=\"\">Choose...</option>\r\n                    <option>Poland</option>\r\n                  </select>\r\n                  <div className=\"invalid-feedback\">\r\n                    Please select a valid country.\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-4 mb-3\">\r\n                  <label htmlFor=\"state\">City</label>\r\n                  <select className=\"custom-select d-block w-100\" id=\"state\" required>\r\n                    <option value=\"\">Choose...</option>\r\n                    <option>Pozna≈Ñ</option>\r\n                  </select>\r\n                  <div className=\"invalid-feedback\">\r\n                    Please provide a valid city.\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-3 mb-3\">\r\n                  <label htmlFor=\"zip\">Zip</label>\r\n                  <input type=\"text\" className=\"form-control\" id=\"zip\" required />\r\n                  <div className=\"invalid-feedback\">\r\n                    Zip code required.\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <hr className=\"mb-4\" />\r\n\r\n              <h4 className=\"mb-3\">Payment</h4>\r\n\r\n              <div className=\"d-block my-3\">\r\n                <div className=\"custom-control custom-radio\">\r\n                  <input id=\"credit\" name=\"paymentMethod\" type=\"radio\" className=\"custom-control-input\" defaultChecked required />\r\n                  <label className=\"custom-control-label\" htmlFor=\"credit\">Credit card</label>\r\n                </div>\r\n              </div>\r\n              <div className=\"row\">\r\n                <div className=\"col-md-6 mb-3\">\r\n                  <label htmlFor=\"cc-name\">Name on card</label>\r\n                  <input type=\"text\" className=\"form-control\" id=\"cc-name\" defaultValue={authentication.loggedIn ? authentication.user.firstName + ' ' + authentication.user.lastName : ''} required onKeyUp={this.handleKeyUp} />\r\n                  <small className=\"text-muted\">Full name as displayed on card</small>\r\n                  <div className=\"invalid-feedback\">\r\n                    Name on card is required\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-6 mb-3\">\r\n                  <label htmlFor=\"cc-number\">Credit card number</label>\r\n                  <input type=\"text\" className=\"form-control\" id=\"cc-number\" required onKeyUp={this.handleKeyUp} />\r\n                  <div className=\"invalid-feedback\">\r\n                    Credit card number is required\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"row\">\r\n                <div className=\"col-md-3 mb-3\">\r\n                  <label htmlFor=\"cc-expiration\">Expiration</label>\r\n                  <input type=\"text\" className=\"form-control\" id=\"cc-expiration\" required onKeyUp={this.handleKeyUp} />\r\n                  <div className=\"invalid-feedback\">\r\n                    Expiration date required\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-3 mb-3\">\r\n                  <label htmlFor=\"cc-cvv\">CVV</label>\r\n                  <input type=\"text\" className=\"form-control\" id=\"cc-cvv\" required onKeyUp={this.handleKeyUp} />\r\n                  <div className=\"invalid-feedback\">\r\n                    Security code required\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <hr className=\"mb-4\" />\r\n              <button className=\"btn btn-primary btn-lg btn-block\" type=\"submit\">Continue to checkout</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { authentication, cart } = state;\r\n  return ({\r\n    authentication,\r\n    cart\r\n  });\r\n}\r\n\r\nexport default connect(mapStateToProps)(CheckoutPage);","import React, { Component } from 'react';\r\n\r\nclass NotFoundPage extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"products-page\">\r\n        <h1>NOT FOUND!</h1>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NotFoundPage;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nclass ConfirmationPage extends Component {\r\n  render() {\r\n    let date = new Date();\r\n    let receiveDate = new Date(date);\r\n    receiveDate.setDate(receiveDate.getDate() + 3);\r\n\r\n    let dd = receiveDate.getDate();\r\n    let mm = receiveDate.getMonth() + 1;\r\n    let yyyy = receiveDate.getFullYear();\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-8 offset-2\">\r\n          <div className=\"alert alert-success\" role=\"alert\">\r\n            <h4 className=\"alert-heading mt-2 mb-4\">Thank You for your order!</h4>\r\n            <hr />\r\n            <div className=\"order-total\">\r\n              <ul className=\"list-group mb-3\">\r\n                {\r\n                  this.props.cart.map((product) => {\r\n                    return (\r\n                      <li key={product.id} className=\"list-group-item d-flex justify-content-between lh-condensed\">\r\n                        <div>\r\n                          <h6 className=\"cart-item--title my-0\">{product.name}</h6>\r\n                          <small>x {product.count}</small>\r\n                        </div>\r\n                        <span className=\"text-muted\">${product.price * product.count}</span>\r\n                      </li>\r\n                    );\r\n                  })\r\n                }\r\n                <li className=\"list-group-item d-flex justify-content-between\">\r\n                  <span>Total (USD)</span>\r\n                  <strong>${this.props.cartTotal}</strong>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n            <hr />\r\n            <p className=\"mb-2\">You will receive your goodies on <strong>{dd}.{mm}.{yyyy}</strong></p>\r\n          </div>\r\n          </div>\r\n        </div>\r\n    </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    products: state.products,\r\n    cart: state.cart,\r\n    cartTotal: state.cartTotal\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps)(ConfirmationPage);","import React, { Component } from 'react';\r\n\r\nclass ManageProductsPage extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"products-management-page\">\r\n        <h1>This is the products management page!</h1>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ManageProductsPage;","import React, { Component } from 'react';\r\n\r\nclass ManageUsersPage extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"manage-users-page\">\r\n        <h1>This is the users management page!</h1>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ManageUsersPage;","import React from 'react';\r\nimport { Router, Route, Switch } from 'react-router-dom';\r\nimport createHistory from 'history/createBrowserHistory';\r\nimport Nav from '../components/Nav';\r\nimport LoginPage from '../components/LoginPage';\r\nimport ProductsPage from '../components/ProductsPage';\r\nimport CheckoutPage from '../components/CheckoutPage';\r\nimport NotFoundPage from '../components/NotFoundPage';\r\nimport ConfirmationPage from '../components/ConfirmationPage';\r\nimport ManageProductsPage from '../components/ManageProductsPage';\r\nimport ManageUsersPage from '../components/ManageUsersPage';\r\n\r\nexport const history = createHistory();\r\n\r\nconst AppRouter = () => (\r\n  <Router history={history}>\r\n    <div>\r\n      <Nav />\r\n      <main className=\"App-main\">\r\n        <Switch>\r\n          <Route path=\"/\" component={ProductsPage} exact={true} />\r\n          <Route path=\"/login\" component={LoginPage} exact={true} />\r\n          <Route path=\"/products\" component={ProductsPage} exact={true} />\r\n          <Route path=\"/checkout\" component={CheckoutPage} exact={true} />\r\n          <Route path=\"/confirmation\" component={ConfirmationPage} exact={true} />\r\n          <Route path=\"/manage-products\" component={ManageProductsPage} exact={true} />\r\n          <Route path=\"/manage-users\" component={ManageUsersPage} exact={true} />\r\n          <Route component={NotFoundPage} />\r\n        </Switch>\r\n      </main>\r\n    </div>\r\n  </Router>\r\n);\r\n\r\nexport default AppRouter;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore, applyMiddleware } from 'redux';\nimport thunkMiddleware from 'redux-thunk';\nimport { createLogger } from 'redux-logger';\nimport { rootReducer } from './reducers/reducers';\nimport { configureFakeBackend } from './helpers/fake-backend';\nimport { Provider } from 'react-redux';\nimport './styles/style.scss';\nimport AppRouter from './routers/AppRouter';\nimport * as serviceWorker from './serviceWorker';\n\nconst loggerMiddleware = createLogger();\n\nconst store = createStore(\n  rootReducer,\n  applyMiddleware(\n    thunkMiddleware,\n    loggerMiddleware\n  )\n);\n\n// setup fake backend\nconfigureFakeBackend();\n\nReactDOM.render(\n  <Provider store={store}>\n    <AppRouter />\n  </Provider>, \n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","export function configureFakeBackend() {\r\n  let users = [\r\n    {\r\n      id: 1,\r\n      username: 'admin',\r\n      password: 'admin'\r\n    },\r\n    {\r\n      id: 2,\r\n      username: 'rbatsenko',\r\n      password: '12345',\r\n      firstName: 'Roman',\r\n      lastName: 'Batsenko',\r\n      address: 'ul. Dworcowa 55/2',\r\n      phone: 456789123\r\n    }\r\n  ];\r\n\r\n  let realFetch = window.fetch;\r\n\r\n  window.fetch = function (url, opts) {\r\n      return new Promise((resolve, reject) => {\r\n          // wrap in timeout to simulate server api call\r\n          setTimeout(() => {\r\n\r\n              // authenticate\r\n              if (url.endsWith('/login') && opts.method === 'POST') {\r\n                  // get parameters from post request\r\n                  let params = JSON.parse(opts.body);\r\n\r\n                  // find if any user matches login credentials\r\n                  let filteredUsers = users.filter(user => {\r\n                      return user.username === params.username && user.password === params.password;\r\n                  });\r\n\r\n                  if (filteredUsers.length) {\r\n                      // if login details are valid return user details and fake jwt token\r\n                      let user = filteredUsers[0];\r\n                      let responseJson = {\r\n                          id: user.id,\r\n                          username: user.username,\r\n                          firstName: user.firstName,\r\n                          lastName: user.lastName,\r\n                          address: user.address,\r\n                          phone: user.phone,\r\n                          token: 'fake-jwt-token'\r\n                      };\r\n                      resolve({ ok: true, text: () => Promise.resolve(JSON.stringify(responseJson)) });\r\n                  } else {\r\n                      // else return error\r\n                      reject('Username or password is incorrect');\r\n                  }\r\n\r\n                  return;\r\n              }\r\n\r\n              // get users\r\n              if (url.endsWith('/users') && opts.method === 'GET') {\r\n                  // check for fake auth token in header and return users if valid, this security is implemented server side in a real application\r\n                  if (opts.headers && opts.headers.Authorization === 'Bearer fake-jwt-token') {\r\n                      resolve({ ok: true, text: () => Promise.resolve(JSON.stringify(users))});\r\n                  } else {\r\n                      // return 401 not authorised if token is null or invalid\r\n                      reject('Unauthorised');\r\n                  }\r\n\r\n                  return;\r\n              }\r\n\r\n              // pass through any requests not handled above\r\n              realFetch(url, opts).then(response => resolve(response));\r\n\r\n          }, 500);\r\n      });\r\n  }\r\n}"],"sourceRoot":""}