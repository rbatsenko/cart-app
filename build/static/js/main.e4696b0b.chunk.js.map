{"version":3,"sources":["images/basket.svg","data/initialData.js","constants/constants.js","reducers/reducers.js","components/AdminRoute.js","components/Nav.js","services/services.js","helpers/auth-header.js","actions/actions.js","components/LoginPage.js","components/ProductItem.js","components/CartProductItem.js","components/Cart.js","components/ProductsPage.js","components/CheckoutPage.js","components/NotFoundPage.js","components/ConfirmationPage.js","components/ManageProductsPage.js","components/ManageUsersPage.js","routers/AppRouter.js","serviceWorker.js","index.js","helpers/fake-backend.js"],"names":["module","exports","__webpack_require__","p","initialCartState","cart","products","id","name","price","cartTotal","alertConstants","userConstants","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT","GETALL_REQUEST","GETALL_SUCCESS","GETALL_FAILURE","user","JSON","parse","localStorage","getItem","initialState","loggedIn","AdminRoute","_ref","Component","component","rest","Object","objectWithoutProperties","react_default","a","createElement","Route","assign","render","props","username","Redirect","to","pathname","state","from","location","Nav","authentication","this","isLoggedIn","hasOwnProperty","isAdmin","className","NavLink","src","basket","alt","width","height","activeClassName","Fragment","href","withRouter","connect","logout","removeItem","handleResponse","response","text","then","data","ok","status","window","reload","error","message","statusText","Promise","reject","userService","password","requestOptions","method","headers","Content-Type","body","stringify","fetch","token","setItem","Authorization","authHeader","history","createBrowserHistory","alertActions","type","userActions","login","dispatch","success","push","failure","getAll","users","LoginPage","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleChange","e","_e$target","target","value","setState","defineProperty","handleSubmit","preventDefault","submitted","_this$state","_this$props","loggingIn","alert","_this$state2","onSubmit","htmlFor","onChange","style","marginRight","ProductItem","onClick","CartProductItem","count","Cart","handleRemove","onRemove","calcTotal","_this2","map","product","reduce","b","components_CartProductItem","key","arguments","length","undefined","removeFromCart","ProductsPage","handleAdd","values","onAdd","components_ProductItem","components_Cart","_ref$count","addToCart","CheckoutPage","cardIsEmpty","handleKeyUp","classList","remove","add","defaultValue","firstName","required","onKeyUp","lastName","placeholder","phone","address","defaultChecked","NotFoundPage","ConfirmationPage","date","Date","receiveDate","setDate","getDate","dd","mm","getMonth","yyyy","getFullYear","role","ManageProductsPage","ManageUsersPage","createHistory","AppRouter","Router","components_Nav","Switch","path","exact","AdminRoute_AdminRoute","Boolean","hostname","match","loggerMiddleware","createLogger","store","createStore","action","productsReducer","find","objectSpread","toConsumableArray","concat","filter","_ref2","cartReducer","cartTotalReducer","loading","items","applyMiddleware","thunkMiddleware","realFetch","url","opts","resolve","setTimeout","endsWith","params","filteredUsers","responseJson","configureFakeBackend","ReactDOM","react_redux_es","routers_AppRouter","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e4696b0b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/basket.4a91dad9.svg\";","// INITIAL STATE\r\nexport const initialCartState = {\r\n  cart: [],\r\n  products: [\r\n    {\r\n      id: 1,\r\n      name: 'Apple',\r\n      price: 6\r\n    },\r\n    {\r\n      id: 2,\r\n      name: 'Orange',\r\n      price: 7\r\n    },\r\n    {\r\n      id: 3,\r\n      name: 'Kiwifruit',\r\n      price: 10\r\n    },\r\n    {\r\n      id: 4,\r\n      name: 'Grenade',\r\n      price: 15\r\n    },\r\n    {\r\n      id: 5,\r\n      name: 'Banana',\r\n      price: 4\r\n    },\r\n    {\r\n      id: 6,\r\n      name: 'Tomato',\r\n      price: 2\r\n    },\r\n    {\r\n      id: 7,\r\n      name: 'Cucumber',\r\n      price: 3\r\n    },\r\n    {\r\n      id: 8,\r\n      name: 'Salad',\r\n      price: 12\r\n    },\r\n  ],\r\n  cartTotal: 0\r\n};","export const alertConstants = {\r\n  SUCCESS: 'ALERT_SUCCESS',\r\n  ERROR: 'ALERT_ERROR',\r\n  CLEAR: 'ALERT_CLEAR'\r\n};\r\n\r\nexport const userConstants = {\r\n  LOGIN_REQUEST: 'USERS_LOGIN_REQUEST',\r\n  LOGIN_SUCCESS: 'USERS_LOGIN_SUCCESS',\r\n  LOGIN_FAILURE: 'USERS_LOGIN_FAILURE',\r\n  \r\n  LOGOUT: 'USERS_LOGOUT',\r\n\r\n  GETALL_REQUEST: 'USERS_GETALL_REQUEST',\r\n  GETALL_SUCCESS: 'USERS_GETALL_SUCCESS',\r\n  GETALL_FAILURE: 'USERS_GETALL_FAILURE',\r\n};","import { initialCartState } from '../data/initialData';\r\nimport { alertConstants, userConstants } from '../constants/constants';\r\n\r\nconst productsReducer = (state, action) => {\r\n  switch(action.type) {\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst cartReducer = (state, action) => {\r\n  switch(action.type) {\r\n    case 'ADD_TO_CART':\r\n      const isInCart = state.find(({ id }) => id === action.product.id);\r\n      if (isInCart) {\r\n        return state.map(product => {\r\n            if (product.id === action.product.id) {\r\n              product = { ...product, count: product.count + 1 };\r\n            }\r\n            return product;\r\n          })\r\n      } else {\r\n        return [\r\n          ...state,\r\n          action.product\r\n        ]\r\n      }\r\n    case 'REMOVE_FROM_CART':\r\n      return state.filter(({ id }) => id !== action.id);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst cartTotalReducer = (state, action) => {\r\n  const cart = action.cart; // access to Cart\r\n  switch(action.type) {\r\n    case 'CALC_TOTAL':\r\n      return Object.values(cart.map(product => product.price * product.count)).reduce((a, b) => { return a + b; }, 0);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n/*\r\nexport const mainReducer = combineReducers({\r\n  products: productsReducer,\r\n  cart: cartReducer,\r\n  cartTotal: cartTotalReducer\r\n});\r\n*/\r\n\r\n// ----------------------------------------- AUTH ----------------------------------------------------------------------//\r\n\r\nexport const alert = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case alertConstants.SUCCESS:\r\n      return {\r\n        type: 'alert-success',\r\n        message: action.message\r\n      };\r\n    case alertConstants.ERROR:\r\n      return {\r\n        type: 'alert-danger',\r\n        message: action.message\r\n      };\r\n    case alertConstants.CLEAR:\r\n      return {};\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nlet user = JSON.parse(localStorage.getItem('user'));\r\nconst initialState = user ? { loggedIn: true, user } : {};\r\n\r\nexport const authentication = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case userConstants.LOGIN_REQUEST:\r\n      return {\r\n        loggingIn: true,\r\n        user: action.user\r\n      };\r\n    case userConstants.LOGIN_SUCCESS:\r\n      return {\r\n        loggedIn: true,\r\n        user: action.user\r\n      };\r\n    case userConstants.LOGIN_FAILURE:\r\n      return {};\r\n    case userConstants.LOGOUT:\r\n      return {};\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const users = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case userConstants.GETALL_REQUEST:\r\n      return {\r\n        loading: true\r\n      };\r\n    case userConstants.GETALL_SUCCESS:\r\n      return {\r\n        items: action.users\r\n      };\r\n    case userConstants.GETALL_FAILURE:\r\n      return { \r\n        error: action.error\r\n      };\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const rootReducer = (state = { products: initialCartState.products, cart: initialCartState.cart, cartTotal: 0, authentication: {}, users: {}, alert: {} }, action) => {\r\n  const cart = state.cart; // for cartTotalReducer access\r\n  return {\r\n    products: productsReducer(state.products, action),\r\n    cart: cartReducer(state.cart, action),\r\n    cartTotal: cartTotalReducer(state.cartTotal, {...action, cart}),\r\n    authentication: authentication(state.authentication, action),\r\n    users: users(state.users, action),\r\n    alert: alert(state.alert, action)\r\n  };\r\n};","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nexport const AdminRoute = ({ component: Component, ...rest }) => (\r\n  <Route {...rest} render={props => (\r\n    localStorage.getItem && JSON.parse(localStorage.getItem('user')).username === 'admin'\r\n      ? <Component {...props} />\r\n      : <Redirect to={{ pathname: '/login', state: { from: props.location } }} />\r\n  )} />\r\n);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { NavLink, withRouter } from 'react-router-dom';\r\nimport basket from '../images/basket.svg';\r\n\r\nclass Nav extends Component {\r\n  render() {\r\n    const { authentication } = this.props;\r\n    let isLoggedIn = authentication.hasOwnProperty('loggedIn') ? authentication.loggedIn : false;\r\n    let isAdmin = authentication.hasOwnProperty('user') ? authentication.user.username === 'admin' : false;\r\n\r\n    return (\r\n      <header>\r\n        <nav className=\"App-nav text-center\">\r\n          <ul className=\"nav justify-content-center\">\r\n            <li className=\"nav-item nav-item--logo\"><NavLink className=\"nav-link\" to=\"/products\"><img src={basket} alt=\"\" width=\"40\" height=\"40\" /></NavLink></li>\r\n            {\r\n              !isLoggedIn &&\r\n              <li className=\"nav-item\"><NavLink className=\"nav-link\" activeClassName=\"active\" to=\"/login\">Login</NavLink></li>\r\n            }\r\n            <li className=\"nav-item\"><NavLink className=\"nav-link\" activeClassName=\"active\" to=\"/products\">Products</NavLink></li>\r\n            {\r\n              isLoggedIn && isAdmin && \r\n              <React.Fragment>\r\n                <li className=\"nav-item\"><NavLink className=\"nav-link\" activeClassName=\"active\" to=\"/manage-products\">Manage products</NavLink></li>\r\n                <li className=\"nav-item\"><NavLink className=\"nav-link\" activeClassName=\"active\" to=\"/manage-users\">Manage users</NavLink></li>\r\n              </React.Fragment>\r\n            }\r\n            {\r\n              isLoggedIn &&\r\n              <React.Fragment>\r\n                <li className=\"nav-item\"><div className=\"navbar-text\">Logged in as <strong>{authentication.user.username}</strong></div></li>\r\n                <li className=\"nav-item\"><a className=\"nav-link\" href=\"/\">Logout</a></li>\r\n              </React.Fragment>\r\n            }\r\n          </ul>\r\n        </nav>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { authentication } = state;\r\n  return ({\r\n    authentication\r\n  });\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(Nav));","import { authHeader } from '../helpers/auth-header';\r\n\r\nconst login = (username, password) => {\r\n  const requestOptions = {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ username, password })\r\n  };\r\n\r\n  return fetch(`/login`, requestOptions)\r\n    .then(handleResponse)\r\n    .then(user => {\r\n      // login successful if there's a jwt token in the response\r\n      if (user.token) {\r\n        // store user details and jwt token in local storage to keep user logged in between page refreshes\r\n        localStorage.setItem('user', JSON.stringify(user));\r\n      }\r\n\r\n      return user;\r\n    });\r\n}\r\n\r\nconst logout = () => {\r\n  // remove user from local storage to log user out\r\n  localStorage.removeItem('user');\r\n}\r\n\r\nconst getAll = () => {\r\n  const requestOptions = {\r\n    method: 'GET',\r\n    headers: authHeader()\r\n  };\r\n\r\n  return fetch(`/login`, requestOptions).then(handleResponse);\r\n}\r\n\r\nconst handleResponse = (response) => {\r\n  return response.text().then(text => {\r\n    const data = text && JSON.parse(text);\r\n    if (!response.ok) {\r\n      if (response.status === 401) {\r\n        // auto logout if 401 response returned from api\r\n        logout();\r\n        window.location.reload(true);\r\n      }\r\n\r\n      const error = (data && data.message) || response.statusText;\r\n      return Promise.reject(error);\r\n    }\r\n\r\n    return data;\r\n  });\r\n}\r\n\r\nexport const userService = {\r\n  login,\r\n  logout,\r\n  getAll\r\n};","export function authHeader() {\r\n  // return authorization header with jwt token\r\n  let user = JSON.parse(localStorage.getItem('user'));\r\n\r\n  if (user && user.token) {\r\n      return { 'Authorization': 'Bearer ' + user.token };\r\n  } else {\r\n      return {};\r\n  }\r\n}","import { alertConstants, userConstants } from '../constants/constants';\r\nimport { userService } from '../services/services';\r\nimport { createBrowserHistory } from 'history';\r\n\r\nconst history = createBrowserHistory();\r\n\r\n// CART ACTIONS\r\n// addToCart\r\nexport const addToCart = (\r\n  {\r\n    id,\r\n    name,\r\n    price,\r\n    count = 1\r\n  } = {}\r\n) => (\r\n  {\r\n    type: 'ADD_TO_CART',\r\n    product: {\r\n      id,\r\n      name,\r\n      price,\r\n      count\r\n    }\r\n  }\r\n);\r\n\r\n// removeFromCart\r\nexport const removeFromCart = ( { id } = {} ) => ({\r\n  type: 'REMOVE_FROM_CART',\r\n  id,\r\n});\r\n\r\n// ALERT ACTIONS\r\nconst success = message => ({ type: alertConstants.SUCCESS, message });\r\nconst error = message => ({ type: alertConstants.ERROR, message });\r\nconst clear = () => ({ type: alertConstants.CLEAR });\r\n\r\nconst alertActions = {\r\n  success,\r\n  error,\r\n  clear\r\n};\r\n\r\n// AUTHENTICATION ACTIONS\r\n// login\r\nconst login = (username, password) => {\r\n  return dispatch => {\r\n    dispatch(request({ username }));\r\n\r\n    userService.login(username, password)\r\n      .then(\r\n        user => { \r\n          dispatch(success(user));\r\n          history.push('/');\r\n        },\r\n        error => {\r\n          dispatch(failure(error));\r\n          dispatch(alertActions.error(error));\r\n        }\r\n      );\r\n  };\r\n\r\n  function request(user) { return { type: userConstants.LOGIN_REQUEST, user } }\r\n  function success(user) { return { type: userConstants.LOGIN_SUCCESS, user } }\r\n  function failure(error) { return { type: userConstants.LOGIN_FAILURE, error } }\r\n}\r\n\r\n// logout\r\nconst logout = () => {\r\n  userService.logout();\r\n  return { type: userConstants.LOGOUT };\r\n}\r\n\r\n// getAll\r\nconst getAll = () => {\r\n  return dispatch => {\r\n      dispatch(request());\r\n\r\n      userService.getAll()\r\n          .then(\r\n              users => dispatch(success(users)),\r\n              error => dispatch(failure(error))\r\n          );\r\n  };\r\n\r\n  function request() { return { type: userConstants.GETALL_REQUEST } }\r\n  function success(users) { return { type: userConstants.GETALL_SUCCESS, users } }\r\n  function failure(error) { return { type: userConstants.GETALL_FAILURE, error } }\r\n}\r\n\r\nexport const userActions = {\r\n  login,\r\n  logout,\r\n  getAll\r\n};","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { userActions } from '../actions/actions';\r\n\r\nclass LoginPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // reset login status\r\n    this.props.dispatch(userActions.logout());\r\n\r\n    this.state = {\r\n        username: '',\r\n        password: '',\r\n        submitted: false\r\n    };\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    this.setState({ [name]: value });\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    this.setState({ submitted: true });\r\n    const { username, password } = this.state;\r\n    const { dispatch } = this.props;\r\n    if (username && password) {\r\n      dispatch(userActions.login(username, password));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { loggingIn, alert, authentication } = this.props;\r\n    const { username, password, submitted } = this.state;\r\n\r\n    return (\r\n      <form name=\"form\" onSubmit={this.handleSubmit}>\r\n        <h1 className=\"h3 mb-3 font-weight-normal\">Please sign in</h1>\r\n        <div className={'form-group' + (submitted && !username ? ' has-error' : '')}>\r\n            <label htmlFor=\"username\">Username</label>\r\n            <input type=\"text\" className={'form-control' + (submitted && !username ? ' is-invalid' : '')} name=\"username\" value={username} onChange={this.handleChange} />\r\n            {submitted && !username &&\r\n                <div className=\"invalid-feedback\">Username is required</div>\r\n            }\r\n        </div>\r\n        <div className={'form-group' + (submitted && !password ? ' has-error' : '')}>\r\n            <label htmlFor=\"password\">Password</label>\r\n            <input type=\"password\" className={'form-control' + (submitted && !password ? ' is-invalid' : '')} name=\"password\" value={password} onChange={this.handleChange} />\r\n            {submitted && !password &&\r\n                <div className=\"invalid-feedback\">Password is required</div>\r\n            }\r\n        </div>\r\n        <div className=\"form-group\">\r\n            <button className=\"btn btn-primary\" style={{marginRight: 10}}>Login</button>\r\n            {loggingIn &&\r\n              <img alt=\"\" src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\r\n            }\r\n        </div>\r\n        {alert.message && !authentication.loggedIn &&\r\n          <div className=\"alert alert-danger\">{alert.message}</div>\r\n        }\r\n        {/*authentication.loggedIn &&\r\n          <div className=\"alert alert-success\" role=\"alert\">\r\n            <h4 className=\"alert-heading mt-3\">Well done!</h4>\r\n            <p>Logged in as: <strong>{authentication.user.username}</strong></p>\r\n          </div>\r\n        */}\r\n        {authentication.loggedIn && <Redirect push to=\"/products\" />}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { loggingIn } = state.authentication;\r\n  const { alert } = state;\r\n  const { authentication } = state;\r\n  return ({\r\n    loggingIn,\r\n    alert,\r\n    authentication\r\n  });\r\n}\r\n\r\nexport default connect(mapStateToProps)(LoginPage);","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass ProductItem extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"col-md-4 product-item\">\r\n        <div className=\"product-grid4\">\r\n          <div className=\"product-content\">\r\n            <h3 className=\"title\">{this.props.name}</h3>\r\n            <div className=\"price\">\r\n              ${this.props.price}\r\n            </div>\r\n            <button className=\"add-to-cart\" onClick={() => { this.props.onClick(this.props.id, this.props.name, this.props.price) }}>ADD TO CART</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nProductItem.propTypes = {\r\n  name: PropTypes.string,\r\n  price: PropTypes.number\r\n}\r\n\r\nexport default ProductItem;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass CartProductItem extends Component {\r\n  render() {\r\n    return (\r\n      <li className=\"list-group-item d-flex justify-content-between lh-condensed\">\r\n        <div>\r\n          <h6 className=\"cart-item--title my-0\">{this.props.name}</h6>\r\n          <small>x {this.props.count}</small>\r\n          <button className=\"remove-item\" onClick={() => this.props.onClick(this.props.id)}>X</button>\r\n        </div>\r\n        <span className=\"text-muted\">${this.props.price * this.props.count}</span>\r\n      </li>\r\n    )\r\n  }\r\n}\r\n\r\nCartProductItem.propTypes = {\r\n  name: PropTypes.string,\r\n  price: PropTypes.number,\r\n  count: PropTypes.number\r\n}\r\n\r\nexport default CartProductItem;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport CartProductItem from './CartProductItem';\r\nimport { removeFromCart } from '../actions/actions';\r\n\r\nclass Cart extends Component {\r\n\r\n  handleRemove = id => {\r\n    this.props.onRemove(id);\r\n    this.props.calcTotal();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App-cart\">\r\n        <h4 className=\"d-flex justify-content-between align-items-center mb-3\">\r\n          <span className=\"text-muted\">Your cart</span>\r\n          <span className=\"badge badge-secondary badge-pill\">\r\n          {\r\n            this.props.cart.map(product => product.count).reduce((a, b) => a + b, 0)\r\n          }\r\n          </span>\r\n        </h4>\r\n        <ul className=\"list-group mb-3\">\r\n          {\r\n            this.props.cart.map((product) => {\r\n              return <CartProductItem key={product.id} id={product.id} {...product} onClick={this.handleRemove} />;\r\n            })\r\n          }\r\n          <li className=\"list-group-item d-flex justify-content-between\">\r\n            <span>Total (USD)</span>\r\n            <strong>${this.props.cartTotal}</strong>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nCart.propTypes = {\r\n  cartTotal: PropTypes.number\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    products: state.products,\r\n    cart: state.cart,\r\n    cartTotal: state.cartTotal\r\n  }\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onRemove: id => dispatch(removeFromCart({ id: id })),\r\n    calcTotal: () => dispatch({ type: 'CALC_TOTAL' })\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);","import React, { Component } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { addToCart } from '../actions/actions';\r\nimport ProductItem from './ProductItem';\r\nimport Cart from './Cart';\r\n\r\nclass ProductsPage extends Component {\r\n\r\n  handleAdd = (id, name, price) => {\r\n    if (Object.values(this.props.cart.map(product => product.count)).reduce((a, b) => { return a + b; }, 0) < 3) {\r\n      this.props.onAdd(id, name, price);\r\n      this.props.calcTotal();\r\n    } else {\r\n      alert('You can only add 3 or less items to cart!')\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col\">\r\n            <h3 className=\"products-page-title\">Store</h3>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          <div className=\"col-md-8\">\r\n            <div className=\"row products-container\">\r\n              {\r\n                this.props.products.map((product) => {\r\n                  return <ProductItem key={product.id} id={product.id} {...product} onClick={this.handleAdd} />;\r\n                })\r\n              }\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-4 mb-4\">\r\n            <Cart />\r\n            <NavLink className=\"btn btn-primary\" to=\"/checkout\">Proceed to checkout</NavLink>\r\n          </div>\r\n\r\n        </div>\r\n    </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    products: state.products,\r\n    cart: state.cart,\r\n    cartTotal: state.cartTotal\r\n  }\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onAdd: (id, name, price) => dispatch(addToCart({ id: id, name: name, price: price })),\r\n    calcTotal: () => dispatch({ type: 'CALC_TOTAL' })\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductsPage);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Cart from './Cart';\r\n\r\nclass CheckoutPage extends Component {\r\n  state = {\r\n    cardIsEmpty: true\r\n  }\r\n\r\n  handleKeyUp = (e) => {\r\n    e.target.value ? e.target.classList.remove('is-invalid') : e.target.classList.add('is-invalid');\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { cart } = this.props;\r\n    cart.length === 0 ? alert('Your cart is empty! Please add some products.') : this.props.history.push('/confirmation');\r\n  }\r\n\r\n  render() {\r\n    const { authentication } = this.props;\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-4 order-md-2 mb-4\">\r\n            <Cart />\r\n          </div>\r\n\r\n          <div className=\"col-md-8 order-md-1\">\r\n            <h4 className=\"mb-3\">Billing address</h4>\r\n            <form className=\"needs-validation\" onSubmit={this.handleSubmit}>\r\n              <div className=\"row\">\r\n                <div className=\"col-md-6 mb-3\">\r\n                  <label htmlFor=\"firstName\">First name</label>\r\n                  <input type=\"text\" className=\"form-control\" id=\"firstName\" defaultValue={authentication.loggedIn ? authentication.user.firstName : ''} required onKeyUp={this.handleKeyUp} />\r\n                  <div className=\"invalid-feedback\">\r\n                    Valid first name is required.\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-6 mb-3\">\r\n                  <label htmlFor=\"lastName\">Last name</label>\r\n                  <input type=\"text\" className=\"form-control\" id=\"lastName\" defaultValue={authentication.loggedIn ? authentication.user.lastName : ''} required onKeyUp={this.handleKeyUp} />\r\n                  <div className=\"invalid-feedback\">\r\n                    Valid last name is required.\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"address\">Phone number</label>\r\n                <input type=\"text\" className=\"form-control\" id=\"phone\" placeholder=\"XXXXXXXXX\" defaultValue={authentication.loggedIn ? authentication.user.phone : ''} required onKeyUp={this.handleKeyUp} />\r\n                <div className=\"invalid-feedback\">\r\n                  Please enter your phone number.\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"address\">Address</label>\r\n                <input type=\"text\" className=\"form-control\" id=\"address\" placeholder=\"ul. Winogrady 3/5\" defaultValue={authentication.loggedIn ? authentication.user.address : ''} required onKeyUp={this.handleKeyUp} />\r\n                <div className=\"invalid-feedback\">\r\n                  Please enter your shipping address.\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row\">\r\n                <div className=\"col-md-5 mb-3\">\r\n                  <label htmlFor=\"country\">Country</label>\r\n                  <select className=\"custom-select d-block w-100\" id=\"country\" required>\r\n                    <option value=\"\">Choose...</option>\r\n                    <option>Poland</option>\r\n                  </select>\r\n                  <div className=\"invalid-feedback\">\r\n                    Please select a valid country.\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-4 mb-3\">\r\n                  <label htmlFor=\"state\">City</label>\r\n                  <select className=\"custom-select d-block w-100\" id=\"state\" required>\r\n                    <option value=\"\">Choose...</option>\r\n                    <option>Poznań</option>\r\n                  </select>\r\n                  <div className=\"invalid-feedback\">\r\n                    Please provide a valid city.\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-3 mb-3\">\r\n                  <label htmlFor=\"zip\">Zip</label>\r\n                  <input type=\"text\" className=\"form-control\" id=\"zip\" required />\r\n                  <div className=\"invalid-feedback\">\r\n                    Zip code required.\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              <hr className=\"mb-4\" />\r\n\r\n              <h4 className=\"mb-3\">Payment</h4>\r\n\r\n              <div className=\"d-block my-3\">\r\n                <div className=\"custom-control custom-radio\">\r\n                  <input id=\"credit\" name=\"paymentMethod\" type=\"radio\" className=\"custom-control-input\" defaultChecked required />\r\n                  <label className=\"custom-control-label\" htmlFor=\"credit\">Credit card</label>\r\n                </div>\r\n              </div>\r\n              <div className=\"row\">\r\n                <div className=\"col-md-6 mb-3\">\r\n                  <label htmlFor=\"cc-name\">Name on card</label>\r\n                  <input type=\"text\" className=\"form-control\" id=\"cc-name\" defaultValue={authentication.loggedIn ? authentication.user.firstName + ' ' + authentication.user.lastName : ''} required onKeyUp={this.handleKeyUp} />\r\n                  <small className=\"text-muted\">Full name as displayed on card</small>\r\n                  <div className=\"invalid-feedback\">\r\n                    Name on card is required\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-6 mb-3\">\r\n                  <label htmlFor=\"cc-number\">Credit card number</label>\r\n                  <input type=\"text\" className=\"form-control\" id=\"cc-number\" required onKeyUp={this.handleKeyUp} />\r\n                  <div className=\"invalid-feedback\">\r\n                    Credit card number is required\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"row\">\r\n                <div className=\"col-md-3 mb-3\">\r\n                  <label htmlFor=\"cc-expiration\">Expiration</label>\r\n                  <input type=\"text\" className=\"form-control\" id=\"cc-expiration\" required onKeyUp={this.handleKeyUp} />\r\n                  <div className=\"invalid-feedback\">\r\n                    Expiration date required\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-md-3 mb-3\">\r\n                  <label htmlFor=\"cc-cvv\">CVV</label>\r\n                  <input type=\"text\" className=\"form-control\" id=\"cc-cvv\" required onKeyUp={this.handleKeyUp} />\r\n                  <div className=\"invalid-feedback\">\r\n                    Security code required\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <hr className=\"mb-4\" />\r\n              <button className=\"btn btn-primary btn-lg btn-block\" type=\"submit\">Continue to checkout</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { authentication, cart } = state;\r\n  return ({\r\n    authentication,\r\n    cart\r\n  });\r\n}\r\n\r\nexport default connect(mapStateToProps)(CheckoutPage);","import React, { Component } from 'react';\r\n\r\nclass NotFoundPage extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"products-page\">\r\n        <h1>NOT FOUND!</h1>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NotFoundPage;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nclass ConfirmationPage extends Component {\r\n  render() {\r\n    let date = new Date();\r\n    let receiveDate = new Date(date);\r\n    receiveDate.setDate(receiveDate.getDate() + 3);\r\n\r\n    let dd = receiveDate.getDate();\r\n    let mm = receiveDate.getMonth() + 1;\r\n    let yyyy = receiveDate.getFullYear();\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-8 offset-2\">\r\n          <div className=\"alert alert-success\" role=\"alert\">\r\n            <h4 className=\"alert-heading mt-2 mb-4\">Thank You for your order!</h4>\r\n            <hr />\r\n            <div className=\"order-total\">\r\n              <ul className=\"list-group mb-3\">\r\n                {\r\n                  this.props.cart.map((product) => {\r\n                    return (\r\n                      <li key={product.id} className=\"list-group-item d-flex justify-content-between lh-condensed\">\r\n                        <div>\r\n                          <h6 className=\"cart-item--title my-0\">{product.name}</h6>\r\n                          <small>x {product.count}</small>\r\n                        </div>\r\n                        <span className=\"text-muted\">${product.price * product.count}</span>\r\n                      </li>\r\n                    );\r\n                  })\r\n                }\r\n                <li className=\"list-group-item d-flex justify-content-between\">\r\n                  <span>Total (USD)</span>\r\n                  <strong>${this.props.cartTotal}</strong>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n            <hr />\r\n            <p className=\"mb-2\">You will receive your goodies on <strong>{dd}.{mm}.{yyyy}</strong></p>\r\n          </div>\r\n          </div>\r\n        </div>\r\n    </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    products: state.products,\r\n    cart: state.cart,\r\n    cartTotal: state.cartTotal\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps)(ConfirmationPage);","import React, { Component } from 'react';\r\n\r\nclass ManageProductsPage extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"products-management-page\">\r\n        <h1>This is the products management page!</h1>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ManageProductsPage;","import React, { Component } from 'react';\r\n\r\nclass ManageUsersPage extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"manage-users-page\">\r\n        <h1>This is the users management page!</h1>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ManageUsersPage;","import React from 'react';\r\nimport { Router, Route, Switch } from 'react-router-dom';\r\nimport { AdminRoute } from '../components/AdminRoute';\r\nimport createHistory from 'history/createBrowserHistory';\r\nimport Nav from '../components/Nav';\r\nimport LoginPage from '../components/LoginPage';\r\nimport ProductsPage from '../components/ProductsPage';\r\nimport CheckoutPage from '../components/CheckoutPage';\r\nimport NotFoundPage from '../components/NotFoundPage';\r\nimport ConfirmationPage from '../components/ConfirmationPage';\r\nimport ManageProductsPage from '../components/ManageProductsPage';\r\nimport ManageUsersPage from '../components/ManageUsersPage';\r\n\r\nexport const history = createHistory();\r\n\r\nconst AppRouter = () => (\r\n  <Router history={history}>\r\n    <div>\r\n      <Nav />\r\n      <main className=\"App-main\">\r\n        <Switch>\r\n          <Route path=\"/\" component={ProductsPage} exact={true} />\r\n          <Route path=\"/login\" component={LoginPage} exact={true} />\r\n          <Route path=\"/products\" component={ProductsPage} exact={true} />\r\n          <Route path=\"/checkout\" component={CheckoutPage} exact={true} />\r\n          <Route path=\"/confirmation\" component={ConfirmationPage} exact={true} />\r\n          <AdminRoute path=\"/manage-products\" component={ManageProductsPage} exact={true} />\r\n          <AdminRoute path=\"/manage-users\" component={ManageUsersPage} exact={true} />\r\n          <Route component={NotFoundPage} />\r\n        </Switch>\r\n      </main>\r\n    </div>\r\n  </Router>\r\n);\r\n\r\nexport default AppRouter;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore, applyMiddleware } from 'redux';\nimport thunkMiddleware from 'redux-thunk';\nimport { createLogger } from 'redux-logger';\nimport { rootReducer } from './reducers/reducers';\nimport { configureFakeBackend } from './helpers/fake-backend';\nimport { Provider } from 'react-redux';\nimport './styles/style.scss';\nimport AppRouter from './routers/AppRouter';\nimport * as serviceWorker from './serviceWorker';\n\nconst loggerMiddleware = createLogger();\n\nconst store = createStore(\n  rootReducer,\n  applyMiddleware(\n    thunkMiddleware,\n    loggerMiddleware\n  )\n);\n\n// setup fake backend\nconfigureFakeBackend();\n\nReactDOM.render(\n  <Provider store={store}>\n    <AppRouter />\n  </Provider>, \n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","export function configureFakeBackend() {\r\n  let users = [\r\n    {\r\n      id: 1,\r\n      username: 'admin',\r\n      password: 'admin'\r\n    },\r\n    {\r\n      id: 2,\r\n      username: 'rbatsenko',\r\n      password: '12345',\r\n      firstName: 'Roman',\r\n      lastName: 'Batsenko',\r\n      address: 'ul. Dworcowa 55/2',\r\n      phone: 456789123\r\n    }\r\n  ];\r\n\r\n  let realFetch = window.fetch;\r\n\r\n  window.fetch = function (url, opts) {\r\n      return new Promise((resolve, reject) => {\r\n          // wrap in timeout to simulate server api call\r\n          setTimeout(() => {\r\n\r\n              // authenticate\r\n              if (url.endsWith('/login') && opts.method === 'POST') {\r\n                  // get parameters from post request\r\n                  let params = JSON.parse(opts.body);\r\n\r\n                  // find if any user matches login credentials\r\n                  let filteredUsers = users.filter(user => {\r\n                      return user.username === params.username && user.password === params.password;\r\n                  });\r\n\r\n                  if (filteredUsers.length) {\r\n                      // if login details are valid return user details and fake jwt token\r\n                      let user = filteredUsers[0];\r\n                      let responseJson = {\r\n                          id: user.id,\r\n                          username: user.username,\r\n                          firstName: user.firstName,\r\n                          lastName: user.lastName,\r\n                          address: user.address,\r\n                          phone: user.phone,\r\n                          token: 'fake-jwt-token'\r\n                      };\r\n                      resolve({ ok: true, text: () => Promise.resolve(JSON.stringify(responseJson)) });\r\n                  } else {\r\n                      // else return error\r\n                      reject('Username or password is incorrect');\r\n                  }\r\n\r\n                  return;\r\n              }\r\n\r\n              // get users\r\n              if (url.endsWith('/users') && opts.method === 'GET') {\r\n                  // check for fake auth token in header and return users if valid, this security is implemented server side in a real application\r\n                  if (opts.headers && opts.headers.Authorization === 'Bearer fake-jwt-token') {\r\n                      resolve({ ok: true, text: () => Promise.resolve(JSON.stringify(users))});\r\n                  } else {\r\n                      // return 401 not authorised if token is null or invalid\r\n                      reject('Unauthorised');\r\n                  }\r\n\r\n                  return;\r\n              }\r\n\r\n              // pass through any requests not handled above\r\n              realFetch(url, opts).then(response => resolve(response));\r\n\r\n          }, 500);\r\n      });\r\n  }\r\n}"],"sourceRoot":""}